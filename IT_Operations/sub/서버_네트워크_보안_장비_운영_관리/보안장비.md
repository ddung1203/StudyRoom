# 보안장비 운용

## 정보보호 시스템

### 정보보호 시스템

- 훼손, 변조, 유출 방지 및 복구 : 수집/가공/저장/검색/송신/수신 중에 발생 사능한 정보
- 보안 기술 : 암호, 인증, 인식, 감시
- 관리적, 기술적, 물리적 수단

### 정보보호 시스템의 구성

- 정보보호제품(HW, SW), 기능 유지를 위한 유지 관리, 외부 위협 요인의 대비를 위해 보안성 지속 서비스
- 새로운 공격에 대비하기 위한 업데이트, 패치, 정책 반영을 끊임없이 요구

## 보안 솔루션

- 위협 요인으로부터 정보 자산을 보호하여 보안사고의 피해를 최소화하는 정책을 이용하는 기술적, 관리적 행위

## 보안 솔루션 종류

### 방화벽

- 침입 차잔 시스템
- 가장 기본적으로 사용되는 솔루션
- 외부 네트워크와 내부 네트워크 사이에서 지나다니는 패킷을 미리 정한 정책/규칙에 따라 차단하거나 보내주는 기능을 하는 HW 또는 SW

### 우분투 방화벽 설정

우분투의 기본적인 방화벽은 `UFW`이다. `iptables`를 좀 더 쉽게 설정할 수 있도록 한 것인데 간단한 방화벽 구성에는 문제가 없지만 높은 수준 방화벽 구성에는 `iptables` 룰을 직접 사용해야 한다.

#### UFW 활성화

``` bash
sudo ufw enable
```

#### UFW 비활성화

``` bash
sudo ufw disable
```

#### UFW 상태 확인

``` bash
sudo ufw status verbose
```

#### UFW 기본 룰

`UFW` 에 설정되어 있는 기본 룰은 아래와 같다.

- 들어오는 패킷에 대해서는 전부 거부(deny)
- 나가는 패킷에 대해서는 전부 허가(allow)

기본 룰 확인
``` bash
sudo ufw show raw
```

기본 정책 차단
``` bash
sudo ufw default deny
```

기본 정책 허용
``` bash
sudo ufw default allow
```

#### UFW 허용과 차단

UFW 허용/거부
``` bash
sudo ufw allow <PORT>/<OPTIONAL:PROTOCAL>
sudo ufw deny <PORT>/<OPTIONAL:PROTOCAL>
```

SSH 포트 22번 허용/거부(TCP/UDP 22번 포트를 모두 허용)
``` bash
sudo ufw allow 22
sudo ufw deny 22
```

TCP 22번 포트만을 허용/거부
``` bash
sudo ufw allow 22/tcp
sudo ufw deny 22/tcp
```

UDP 22번 포트만을 허용/거부
``` bash
sudo ufw allow 22/udp
sudo ufw deny 22/udp
```

#### UFW 룰의 삭제

UFW deny 22/tcp 설정이 되어있다고 가정 시 
``` bash
sudo ufw delete deny 22/tcp
```

